package leetcode;

import java.math.BigDecimal;

public class PowImpl {
	public double myPow(double x, int n) {

		if (x == 0) {
			return 0;
		}
		if (x == 1 || n == 0) {
			return 1;
		}
		if (n == 1) {
			return x;
		}
		if (n < Integer.MIN_VALUE) {
			return 0;
		}
		if (x == -1) {
			if (n % 2 == 0)
				return 1;
			else
				return -1;
		}
		if (n < 0) {
			x = 1 / x;
			n = -n;
		}
		double result = 1.0;
		while (n > 0) {
			if ((n & 1) != 0) {
				result *= x;
			}
			x = x * x;
			n = n >> 1; // gives half floor function
		}
		return result;
	}

	public double myPow1(double x, int n) {
		if (n == 0)
			return 1;
		if (x == 1)
			return 1;
		if (x == -1) {
			if (n % 2 == 0)
				return 1;
			else
				return -1;
		}

		if (n == Integer.MIN_VALUE)
			return 0;
		if (n < 0) {
			n = -n;
			x = 1 / x;
		}
		double ret = 1.0;
		while (n > 0) {
			if ((n & 1) != 0)
				ret *= x;
			x = x * x;
			n = n >> 1;
		}
		return ret;
	}

	public int powmod(int x, int n, int d) {
		if (x == 0) {
			return 0;
		}
		if (n == 0) {
			return 1;
		}
		if (d == 0) {
			return -1;
		}
		if (d == 1) {
			return 0;
		}

		if (x < 0 && n % 2 == 0) {
			x = -1 * x;
			x = x % d;
		}
		if (n < 0) {
			n = -1 * n;
			x = 1 / x;
		}
		int result = 1;
		while (n > 0) {
			if ((n & 1) != 0) {
				result *= x % d;
			}
			x = (x * x) % d;
			n = n >> 1;
		}

		return result;

	}

	public int pow(int x, int n, int d) {
		if (x == 0) {
			return 0;
		}
		if (n == 0) {
			return 1;
		}
		if (d == 0) {
			return -1;
		}

		if (x < 0 && n % 2 == 0) {
			x = -1 * x;
		}
		if (n < 0) {
			n = -1 * n;
			x = 1 / x;
		}
		int result = 1;
		while (n > 0) {
			if ((n & 1) != 0) {
				result *= x;
			}
			x = x * x;
			n = n >> 1;
		}

		return result % d;
	}

	public static void main(String[] args) {
		PowImpl obj = new PowImpl();
		// System.out.println(obj.myPow(2, 10));
		// System.out.println(-2147483648%2);
		char[][] c = { { 'a', 'b' }, { 'c', 'd' }, { 'c', 'd' } };
		System.out.println(c.length);
		System.out.println(c[0].length);
		System.out.println(obj.powmod(-1,2,20));
		System.out.println(1 % 20);

	}
}